{
  "hash": "b94fe8495f5bcdafe6892f696b135a56",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Explorando Dados com R\n\nimage: \"thumb.png\"\ncategories: [Data-Science, Tutorial, R]\n\ndate: 2025-10-30\ndate-format: \"long\"\n\nauthor: \n  - name: Gabriel Rodrigues\n    degrees: \n      - MSc\n    id: gr\n    orcid: 0009-0005-2294-2845\n    email: gvpina.rodrigues@gmail.com\n    affiliation: \n      - name: Universidade Estadual de Santa Cruz\n        city: Ilhéus\n        state: Bahia\n        url: www.uesc.br\n\nabstract: > \n  Relatório formal de análise de dados da Disciplina \"Ciência de Dados\", ministrada pelo Professor Eric Roberto Guimarãers Rocha Aguiar e tendo como aluno de Estágio em Docência Gabriel Victor Pina Rodrigues. O presente relatório foi criado utilizando a plataforma Quarto® com linguagem R. Ele possui uma breve introdução dos dados juntamente com seu processamento e o delineamento de hipóteses. Testes estatísticos foram realizados para validar as hipóteses e o pacote ggplot2 foi utilizado para a construção de gráficos.\nkeywords:\n  - Data Science\n  - Testes estatísticos\n  - Tidyplots\n\nlightbox: true\nformat:\n    html:\n        number-sections: true\n        # theme: flatly\n        # code-fold: true\n        # code-summary: \"Mostrar Código\"\n        toc: true\n        toc_float: true\n        self-contained: true\n        other-links:\n        - text: Website\n          href: https://gabrielvpina.github.io/myBlog/\n\nlang: pt\n---\n\n# Introdução  \n\nEsse relatório é complementar à Atividade Prática 06, realizada dia 28 de Outubro em sala de aula. O relatório possui o intuito de representar como um relatório de dados formal deve ser estruturado, juntamento com as operações de processamento de dados e códigos no R. \n\n## Resumo dos dados\n\nOs dados utilizados aqui serão vindos da tabela `world-data-2023.csv`, que representa um compilado abrangente de indicadores globais por país, referente ao ano de 2023.\n\nAs principais categorias de dados incluem:\n\n- Demografia e Geografia: Informações sobre População, Densidade (P/Km2), Área Terrestre (Km2), População Urbana, Taxa de Natalidade, Taxa de Fertilidade e Expectativa de Vida.\n\n- Economia e Finanças: Dados vitais como Produto Interno Bruto (PIB), Índice de Preços ao Consumidor (IPC e sua variação), Código da Moeda, Salário Mínimo, Receita Tributária (%), Taxa de Imposto Total, e o Preço da Gasolina.\n\n- Saúde e Educação: Indicadores sociais cruciais, incluindo Mortalidade Infantil e Materna, proporção de Médicos por Mil, Despesas de Saúde do bolso próprio, e as taxas de matrícula bruta nos ensinos primário e superior.\n\n- Meio Ambiente e Recursos: Métricas ambientais como as Emissões de CO2​ e a porcentagem de Terra Agrícola e Área Florestal.\n\n- Força de Trabalho e Segurança: Informações sobre a participação da Força de Trabalho, Taxa de Desemprego e o Tamanho das Forças Armadas.\n\nEm resumo, é um dataset de múltiplas facetas destinado a fornecer um perfil detalhado e estatístico de cada país.\n\n# Importando os dados\n\nPara importar esse dataset, utilizaremos a função `read.csv()` para importar um conjunto de dados diretamente da web. **Atenção:** Esse tipo de importação só é possível se os dados estiverem de forma integral no link. \n \n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read.csv(\"https://raw.githubusercontent.com/gabrielvpina/dataScience/refs/heads/main/data/world-data-2023.csv\")\n```\n:::\n\n\nUtilizando a função `skim` do pacote *skimr* nos dados:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# importar pacote\nlibrary(skimr)\n# chamar função de resumo\nskim(df)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |     |\n|:------------------------|:----|\n|Name                     |df   |\n|Number of rows           |195  |\n|Number of columns        |35   |\n|_______________________  |     |\n|Column type frequency:   |     |\n|character                |26   |\n|numeric                  |9    |\n|________________________ |     |\n|Group variables          |None |\n\n\n**Variable type: character**\n\n|skim_variable                             | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-----------------------------------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Country                                   |         0|             1|   4|  32|     0|      195|          0|\n|Density..P.Km2.                           |         0|             1|   1|   6|     0|      137|          0|\n|Abbreviation                              |         0|             1|   0|   2|     7|      189|          0|\n|Agricultural.Land....                     |         0|             1|   0|   6|     7|      169|          0|\n|Land.Area.Km2.                            |         0|             1|   0|  10|     1|      195|          0|\n|Armed.Forces.size                         |         0|             1|   0|   9|    24|      106|          0|\n|Capital.Major.City                        |         0|             1|   0|  22|     3|      193|          0|\n|Co2.Emissions                             |         0|             1|   0|   9|     7|      185|          0|\n|CPI                                       |         0|             1|   0|   8|    17|      176|          0|\n|CPI.Change....                            |         0|             1|   0|   7|    16|       87|          0|\n|Currency.Code                             |         0|             1|   0|   3|    15|      134|          0|\n|Forested.Area....                         |         0|             1|   0|   6|     7|      162|          0|\n|Gasoline.Price                            |         0|             1|   0|   6|    20|      102|          0|\n|GDP                                       |         0|             1|   0|  20|     2|      194|          0|\n|Gross.primary.education.enrollment....    |         0|             1|   0|   7|     7|      142|          0|\n|Gross.tertiary.education.enrollment....   |         0|             1|   0|   7|    12|      172|          0|\n|Largest.city                              |         0|             1|   0|  23|     6|      189|          0|\n|Minimum.wage                              |         0|             1|   0|   7|    45|      115|          0|\n|Official.language                         |         0|             1|   0|  22|     1|       78|          0|\n|Out.of.pocket.health.expenditure          |         0|             1|   0|   6|     7|      161|          0|\n|Population                                |         0|             1|   0|  13|     1|      195|          0|\n|Population..Labor.force.participation.... |         0|             1|   0|   6|    19|      146|          0|\n|Tax.revenue....                           |         0|             1|   0|   6|    26|      120|          0|\n|Total.tax.rate                            |         0|             1|   0|   7|    12|      157|          0|\n|Unemployment.rate                         |         0|             1|   0|   6|    19|      165|          0|\n|Urban_population                          |         0|             1|   0|  11|     5|      191|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable            | n_missing| complete_rate|   mean|     sd|      p0|   p25|    p50|    p75|    p100|hist  |\n|:------------------------|---------:|-------------:|------:|------:|-------:|-----:|------:|------:|-------:|:-----|\n|Birth.Rate               |         6|          0.97|  20.21|   9.95|    5.90| 11.30|  17.95|  28.75|   46.08|▇▆▃▃▁ |\n|Calling.Code             |         1|          0.99| 360.55| 323.24|    1.00| 82.50| 255.50| 506.75| 1876.00|▇▂▂▁▁ |\n|Fertility.Rate           |         7|          0.96|   2.70|   1.28|    0.98|  1.71|   2.24|   3.60|    6.91|▇▅▃▂▁ |\n|Infant.mortality         |         6|          0.97|  21.33|  19.55|    1.40|  6.00|  14.00|  32.70|   84.50|▇▂▂▁▁ |\n|Life.expectancy          |         8|          0.96|  72.28|   7.48|   52.80| 67.00|  73.20|  77.50|   85.40|▂▃▅▇▅ |\n|Maternal.mortality.ratio |        14|          0.93| 160.39| 233.50|    2.00| 13.00|  53.00| 186.00| 1150.00|▇▁▁▁▁ |\n|Physicians.per.thousand  |         7|          0.96|   1.84|   1.68|    0.01|  0.33|   1.46|   2.94|    8.42|▇▅▂▁▁ |\n|Latitude                 |         1|          0.99|  19.09|  23.96|  -40.90|  4.54|  17.27|  40.12|   64.96|▂▃▇▆▅ |\n|Longitude                |         1|          0.99|  20.23|  66.72| -175.20| -7.94|  20.97|  48.28|  178.07|▁▃▇▃▂ |\n\n\n:::\n:::\n\n\n## Primeiras impressões\n\nCom o resumo dos dados em mãos, pode-se observar que diversas colunas que deveriam ser numéricas estão sendo lidas como strings. As principais causas são:\n\n- Uso de vírgula para representar decimais, enquanto o R utiliza pontos\n- Caracteres associados à porcentagens (ex: 23.12%)\n- Caracteres associados à valores monetários (\"$\") \n\nOutra coisa para se atentar são os nomes das colunas, que antes continham espaços e símbolos na tabela original e agora tiveram modificações automáticas devido à função de importação do R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# nomes vindos da importação\ncolnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Country\"                                  \n [2] \"Density..P.Km2.\"                          \n [3] \"Abbreviation\"                             \n [4] \"Agricultural.Land....\"                    \n [5] \"Land.Area.Km2.\"                           \n [6] \"Armed.Forces.size\"                        \n [7] \"Birth.Rate\"                               \n [8] \"Calling.Code\"                             \n [9] \"Capital.Major.City\"                       \n[10] \"Co2.Emissions\"                            \n[11] \"CPI\"                                      \n[12] \"CPI.Change....\"                           \n[13] \"Currency.Code\"                            \n[14] \"Fertility.Rate\"                           \n[15] \"Forested.Area....\"                        \n[16] \"Gasoline.Price\"                           \n[17] \"GDP\"                                      \n[18] \"Gross.primary.education.enrollment....\"   \n[19] \"Gross.tertiary.education.enrollment....\"  \n[20] \"Infant.mortality\"                         \n[21] \"Largest.city\"                             \n[22] \"Life.expectancy\"                          \n[23] \"Maternal.mortality.ratio\"                 \n[24] \"Minimum.wage\"                             \n[25] \"Official.language\"                        \n[26] \"Out.of.pocket.health.expenditure\"         \n[27] \"Physicians.per.thousand\"                  \n[28] \"Population\"                               \n[29] \"Population..Labor.force.participation....\"\n[30] \"Tax.revenue....\"                          \n[31] \"Total.tax.rate\"                           \n[32] \"Unemployment.rate\"                        \n[33] \"Urban_population\"                         \n[34] \"Latitude\"                                 \n[35] \"Longitude\"                                \n```\n\n\n:::\n:::\n\n\nVamos checar agora o total de valores vazios `NAs` no dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a função table() conta categorias do vetor gerado pela função is.na()\ntable(is.na(df))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nFALSE  TRUE \n 6774    51 \n```\n\n\n:::\n:::\n\n\nSão 51 itens vazios em um total de 6774 itens totais da tabela, isso representa aproximadamente **0.75%** dos valores totais no nosso dataset.\n\n# Processamento dos dados\n\nInicialmente vamos corrigir os nomes das colunas e as colunas com porcentagens que estão sendo lidas como `string` devido ao caractere \"%\".\n\n### Nomes das Colunas \n\nA função `colnames()` retorna o nome das colunas de um dataset, ela também pode ser utilizada para enviar um novo conjunto de nomes para as colunas de um dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# vamos usar a função colnames(df) para ver as colunas originais e ir inserindo os novos nomes no vertor \"novos_nomes\"\nnovos_nomes <- c(\n    \"Pais\",\n    \"Densidade\", # 'Density (P/Km2)'\n    \"Abreviacao\",\n    \"TerraAgriculturaPercentual\", # 'Agricultural Land( %)'\n    \"AreaTerrestreKm2\", # 'Land Area(Km2)'\n    \"TamanhoForcasArmadas\", # 'Armed Forces size'\n    \"TaxaNatalidade\", # 'Birth Rate'\n    \"CodigoDiscagem\", # 'Calling Code'\n    \"CapitalCidadePrincipal\", # 'Capital/Major City'\n    \"EmissoesCO2\", # 'Co2-Emissions'\n    \"IPC\", # 'CPI'\n    \"MudancaIPCPercentual\", # 'CPI Change (%)'\n    \"CodigoMoeda\", # 'Currency-Code'\n    \"TaxaFertilidade\", # 'Fertility Rate'\n    \"AreaFlorestadaPercentual\", # 'Forested Area (%)'\n    \"PrecoGasolina\", # 'Gasoline Price'\n    \"PIB\", # 'GDP'\n    \"MatriculaPrimariaBrutaPercentual\", # 'Gross primary education enrollment (%)'\n    \"MatriculaSuperiorBrutaPercentual\", # 'Gross tertiary education enrollment (%)'\n    \"MortalidadeInfantil\", # 'Infant mortality'\n    \"MaiorCidade\", # 'Largest city'\n    \"ExpectativaVida\", # 'Life expectancy'\n    \"TaxaMortalidadeMaterna\", # 'Maternal mortality ratio'\n    \"SalarioMinimo\", # 'Minimum wage'\n    \"LinguaOficial\", # 'Official language'\n    \"GastoSaudeProprioBolso\", # 'Out of pocket health expenditure'\n    \"MedicosPorMil\", # 'Physicians per thousand'\n    \"Populacao\",\n    \"PopulacaoForcaTrabalhoPercentual\", # 'Population: Labor force participation (%)'\n    \"ReceitaFiscalPercentual\", # 'Tax revenue (%)'\n    \"TaxaImpostoTotal\", # 'Total tax rate'\n    \"TaxaDesemprego\", # 'Unemployment rate'\n    \"PopulacaoUrbana\", # 'Urban_population'\n    \"Latitude\",\n    \"Longitude\"\n)\n\n# Usando a função colnames() para inserir os novos nomes de coluna\ncolnames(df) <- novos_nomes\n\n# Mostrar novos nomes\ncolnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Pais\"                             \"Densidade\"                       \n [3] \"Abreviacao\"                       \"TerraAgriculturaPercentual\"      \n [5] \"AreaTerrestreKm2\"                 \"TamanhoForcasArmadas\"            \n [7] \"TaxaNatalidade\"                   \"CodigoDiscagem\"                  \n [9] \"CapitalCidadePrincipal\"           \"EmissoesCO2\"                     \n[11] \"IPC\"                              \"MudancaIPCPercentual\"            \n[13] \"CodigoMoeda\"                      \"TaxaFertilidade\"                 \n[15] \"AreaFlorestadaPercentual\"         \"PrecoGasolina\"                   \n[17] \"PIB\"                              \"MatriculaPrimariaBrutaPercentual\"\n[19] \"MatriculaSuperiorBrutaPercentual\" \"MortalidadeInfantil\"             \n[21] \"MaiorCidade\"                      \"ExpectativaVida\"                 \n[23] \"TaxaMortalidadeMaterna\"           \"SalarioMinimo\"                   \n[25] \"LinguaOficial\"                    \"GastoSaudeProprioBolso\"          \n[27] \"MedicosPorMil\"                    \"Populacao\"                       \n[29] \"PopulacaoForcaTrabalhoPercentual\" \"ReceitaFiscalPercentual\"         \n[31] \"TaxaImpostoTotal\"                 \"TaxaDesemprego\"                  \n[33] \"PopulacaoUrbana\"                  \"Latitude\"                        \n[35] \"Longitude\"                       \n```\n\n\n:::\n:::\n\n\n## Corrigir colunas lidas como string\n\n### Colunas com porcentagem (%)\n\nPara corrigir as colunas que possuem um caractere `%` em seus itens, utiliza-se uma substituição por um item vazio (\"\"). Para isso emprega-se a função `gsub()` para substituir `\"%\" -> \"\"`. Normalmente a função `gsub()` funciona individualmente para cada coluna, por isso deve-se utilizar a função `lapply()` associada a ela, de forma que `gsub()` funcione em um loop para as colunas selecionadas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# colunas com caractere de porcentagem (%)\ncolunas_erradas <- c(\"TaxaDesemprego\", \"TaxaImpostoTotal\", \"ReceitaFiscalPercentual\", \"PopulacaoForcaTrabalhoPercentual\", \"GastoSaudeProprioBolso\", \"MatriculaSuperiorBrutaPercentual\", \"MatriculaPrimariaBrutaPercentual\", \"AreaFlorestadaPercentual\", \"MudancaIPCPercentual\", \"TerraAgriculturaPercentual\")\n\n# aplicando gsub nas colunas escolhidas\ndf[colunas_erradas] <- lapply(df[colunas_erradas], gsub, pattern = \"%\", replacement = \"\") # trocar porcentagem por vazio\n\n# transformando as colunas em numericas\ndf[colunas_erradas] <- lapply(df[colunas_erradas], as.numeric)\n```\n:::\n\n\n### Colunas com cifrão ($)\n\nCom isso resolvemos as colunas com `%`, agora vamos aplicar a mesma lógica para colunas com cifrão `$`. Entretanto 0 cifrão é um metacaractere em expressões regulares que geralmente indica o fim da string. Para tratar o `$` como um caractere literal que você deseja remover, ele precisa ser \"escapado\" com barras invertidas duplas `\\\\$`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolunas_cifrao <- c(\"SalarioMinimo\", \"PrecoGasolina\")\n\ndf[colunas_cifrao] <- lapply(df[colunas_cifrao], gsub, pattern = \"\\\\$\", replacement = \"\")\n\ndf[colunas_cifrao] <- lapply(df[colunas_cifrao], as.numeric)\n```\n:::\n\n\n### Colunas com vírgula\n\nA partir da substituição do cifrão nas colunas, é possível realizar a substituição das vírgulas nas colunas e convertê-las para colunas numéricas. Podemos checar com `head(df)` os nossos dados e selecionar as colunas erradas.\n\nÉ necessário fazer uma diferença, pois em colunas como `PopulacaoUrbana`, `Populacao`, `PIB` e `EmissoesCO2` existe um padrão diferente de notação, onde as vírgulas estão somente para diferenciar visualmente os milhates das centenas e das dezenas, e não uma representação decimal. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolunas_cifrao <- c(\"PIB\")\n\ndf[colunas_cifrao] <- lapply(df[colunas_cifrao], gsub, pattern = \"\\\\$\", replacement = \"\")\n\ncolunas_virg <- c(\"PopulacaoUrbana\", \"Populacao\", \"PIB\", \"EmissoesCO2\", \"AreaTerrestreKm2\", \"Densidade\", \"TamanhoForcasArmadas\")\n\ndf[colunas_virg] <- lapply(df[colunas_virg], gsub, pattern = \",\", replacement = \"\")\n\ndf[colunas_virg] <- lapply(df[colunas_virg], as.numeric)\n```\n:::\n\n\nAgora todas as colunas estão formatadas para as análises estatísticas e gráficos.\n\n# Análises Univariadas\n\nA partir dos dados já convertidos podemos realizar análises de distribuição dos dados.\n\n### Densidade dos dados\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# importar pacotes\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(dplyr)\n\ncolunas_para_plotar <- c(\n    \"TaxaNatalidade\",\n    \"TaxaFertilidade\",\n    \"ExpectativaVida\",\n    \"TaxaDesemprego\",\n    \"TerraAgriculturaPercentual\",\n    \"AreaTerrestreKm2\",\n    \"EmissoesCO2\",\n    \"AreaFlorestadaPercentual\",\n    \"MortalidadeInfantil\",\n    \"TaxaImpostoTotal\",\n    \"PrecoGasolina\",\n    \"PopulacaoUrbana\",\n    \"SalarioMinimo\",\n    \"MedicosPorMil\",\n    \"Populacao\",\n    \"PopulacaoForcaTrabalhoPercentual\",\n    \"Densidade\",\n    \"TamanhoForcasArmadas\"\n)\n\n\ndf_longo <- df %>%\n    select(all_of(colunas_para_plotar)) %>%\n    pivot_longer(\n        cols = all_of(colunas_para_plotar),\n        names_to = \"Variavel\",            \n        values_to = \"Valor\"               \n    )\n\ngrafico_densidade <- ggplot(df_longo, aes(x = Valor)) +\n    geom_density(fill = \"#2a78b5\", alpha = 0.7, color = \"white\") +\n    # geom_histogram(bins = 30, fill = \"#2a78b5\", alpha = 0.7, color = \"white\") +\n    facet_wrap(~ Variavel, scales = \"free\", ncol = 3) +\n    labs(\n        title = \"Distribuição de Indicadores Globais por País (2023)\",\n        x = \"Valor\",\n        y = \"Densidade\"\n    ) +\n    theme_minimal() +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\"),\n        strip.text = element_text(face = \"bold\") \n    )\n\nprint(grafico_densidade)\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-9-1.png){width=864}\n:::\n:::\n\n\n### Teste de Normalidade \n\nO teste de normalidade é crucial para verificar se os dados numéricos seguem uma distribuição normal, o que é um pré-requisito para muitos testes estatísticos paramétricos (como o Teste t de Student ou ANOVA).\n\n**Teste de Shapiro-Wilk**\n\nO teste de Shapiro-Wilk fornece as seguintes informações sobre um conjunto de dados:\n\n- 1. Os dados **seguem** uma **distribuição normal**.\n- 2. Os dados **não seguem** uma **distribuição normal**.\n\nEntende-se conjunto de dados (no caso analisado), cada coluna com um índice sobre os dados de cada país.\n\n> **Distribuição normal:** É a mais importante distribuição de probabilidade, sendo aplicada em inúmeros fenômenos e utilizada para o desenvolvimento teórico de estatística. É também conhecida como distribuição de *Gauss*, *Laplace* ou *Laplace-Gauss*.\n\n\n**Teste Básico de Shapiro-Wilk no R**\n\nPara uma análise básica do teste de normalidade, deve-se inserir o *vetor* de interesse (uma coluna numérica) com os dados a serem analisados, usa-se a função `shapiro.test()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest1 <- shapiro.test(df$MortalidadeInfantil)\ntest1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  df$MortalidadeInfantil\nW = 0.86165, p-value = 4.174e-12\n```\n\n\n:::\n:::\n\n\nA interpretação do p-valor:\n\n- p > 0.05: Os dados podem ser considerados normais. Você pode prosseguir com testes paramétricos (como ANOVA).\n- P < 0.05: Os dados não seguem uma distribuição normal. Você deve considerar transformações ou usar testes não-paramétricos (como Kruskal-Wallis).\n\n### Teste de Shapiro-Wilk para o conjunto de dados\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# selecionando o mesmo conjunto de dados dos meus plots\ncolunas_para_testar <- c(\n    \"TaxaNatalidade\",\n    \"TaxaFertilidade\",\n    \"ExpectativaVida\",\n    \"TaxaDesemprego\",\n    \"TerraAgriculturaPercentual\",\n    \"AreaTerrestreKm2\",\n    \"EmissoesCO2\",\n    \"AreaFlorestadaPercentual\",\n    \"MortalidadeInfantil\",\n    \"TaxaImpostoTotal\",\n    \"PrecoGasolina\",\n    \"PopulacaoUrbana\",\n    \"SalarioMinimo\",\n    \"MedicosPorMil\",\n    \"Populacao\",\n    \"PopulacaoForcaTrabalhoPercentual\",\n    \"Densidade\",\n    \"TamanhoForcasArmadas\"\n)\n\n# criar dataframe para armazenar os resultados\nresultados_normalidade <- data.frame(\n    Variavel = character(),\n    ShapiroWilk_p_value = numeric(),\n    Interpretacao = character(),\n    stringsAsFactors = FALSE\n)\n\n# realizar o teste de normalidade para todas as colunas selecionadas\nfor (col in colunas_para_testar) {\n    # filtra valores não-ausentes (NA) para o teste\n    dados_filtrados <- na.omit(df[[col]])\n\n    if (length(dados_filtrados) < 3) {\n        p_value <- NA\n        interpretacao <- \"Amostra muito pequena (N < 3)\"\n    } else {\n        teste <- shapiro.test(dados_filtrados)\n        p_value <- teste$p.value\n\n        if (p_value < 0.05) {\n            interpretacao <- \"Rejeita H0: Não Normal\"\n        } else {\n            interpretacao <- \"Não Rejeita H0: Distribuição Normal\"\n        }\n    }\n\n    # adicionar o resultado ao dataframe\n    resultados_normalidade[nrow(resultados_normalidade) + 1, ] <- c(col, p_value, interpretacao)\n}\n\n# plotar via pacote gt\nlibrary(gt)\ngt(resultados_normalidade)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"lposreyszt\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#lposreyszt table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#lposreyszt thead, #lposreyszt tbody, #lposreyszt tfoot, #lposreyszt tr, #lposreyszt td, #lposreyszt th {\n  border-style: none;\n}\n\n#lposreyszt p {\n  margin: 0;\n  padding: 0;\n}\n\n#lposreyszt .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lposreyszt .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#lposreyszt .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lposreyszt .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lposreyszt .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lposreyszt .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lposreyszt .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lposreyszt .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lposreyszt .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lposreyszt .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lposreyszt .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lposreyszt .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lposreyszt .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#lposreyszt .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#lposreyszt .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lposreyszt .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lposreyszt .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lposreyszt .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lposreyszt .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lposreyszt .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lposreyszt .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lposreyszt .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#lposreyszt .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lposreyszt .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lposreyszt .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lposreyszt .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lposreyszt .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lposreyszt .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lposreyszt .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lposreyszt .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lposreyszt .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lposreyszt .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lposreyszt .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lposreyszt .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lposreyszt .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lposreyszt .gt_left {\n  text-align: left;\n}\n\n#lposreyszt .gt_center {\n  text-align: center;\n}\n\n#lposreyszt .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lposreyszt .gt_font_normal {\n  font-weight: normal;\n}\n\n#lposreyszt .gt_font_bold {\n  font-weight: bold;\n}\n\n#lposreyszt .gt_font_italic {\n  font-style: italic;\n}\n\n#lposreyszt .gt_super {\n  font-size: 65%;\n}\n\n#lposreyszt .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#lposreyszt .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lposreyszt .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#lposreyszt .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#lposreyszt .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#lposreyszt .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#lposreyszt .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#lposreyszt .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#lposreyszt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Variavel\">Variavel</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ShapiroWilk_p_value\">ShapiroWilk_p_value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Interpretacao\">Interpretacao</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TaxaNatalidade</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">2.69875917384226e-08</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TaxaFertilidade</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">1.12087320173536e-10</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">ExpectativaVida</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">8.02908862338933e-05</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TaxaDesemprego</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">1.57916563935281e-10</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TerraAgriculturaPercentual</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">0.000598713593217884</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">AreaTerrestreKm2</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">9.54101633213065e-26</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">EmissoesCO2</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">7.39820077387315e-28</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">AreaFlorestadaPercentual</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">3.42786649089169e-06</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">MortalidadeInfantil</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">4.17419654709054e-12</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TaxaImpostoTotal</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">2.42986434096834e-16</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">PrecoGasolina</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">0.965803570725806</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Não Rejeita H0: Distribuição Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">PopulacaoUrbana</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">7.16551678317921e-27</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">SalarioMinimo</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">9.15869372810545e-17</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">MedicosPorMil</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">3.42455848258256e-10</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">Populacao</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">1.18691069208869e-27</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">PopulacaoForcaTrabalhoPercentual</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">0.300194782119932</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Não Rejeita H0: Distribuição Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">Densidade</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">3.81361558772807e-29</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n    <tr><td headers=\"Variavel\" class=\"gt_row gt_left\">TamanhoForcasArmadas</td>\n<td headers=\"ShapiroWilk_p_value\" class=\"gt_row gt_left\">3.04552884606606e-23</td>\n<td headers=\"Interpretacao\" class=\"gt_row gt_left\">Rejeita H0: Não Normal</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nA maioria das nossas variáveis **não** segue a distribuição normal. Isso condiz com a natureza dos nossos dados, pois não se trata de dados gerados ao acaso, mas sim dados do mundo real influenciados por políticas internacionais e normas públicas, que podem adicionar todo tipo de viés aos dados absolutos. \n\n**Exemplo de distribuição que não segue a normalidade:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = MortalidadeInfantil))+\n    geom_density(fill = \"#b5692a\", alpha = 0.7, color = \"white\") +\n    theme_minimal()\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nAs variáveis `PrecoGasolina` e `PopulacaoForcaTrabalhoPercentual` são as únicas que apresentaram uma distribuição normal no nosso dataset. \n\n**Exemplo de distribuição normal:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = PrecoGasolina))+\n    geom_density(fill = \"#2fca49\", alpha = 0.7, color = \"white\") +\n    theme_minimal()\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n# Correlação das Variáveis\n\nObserva-se que algumas variáveis pertencem à mesma categoria de medida. Pode-se selecionar variáveis com medidas sócio-econômicas e observar se há correlação entre elas no nosso dataset.\n\n### Variáveis Sócio-Econômicas\n\nColunas que envolvem as informações sobre saúde pública, economia e geografia da populção.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolunas_para_correlacionar <- c(\n    \"TaxaNatalidade\",\n    \"TaxaFertilidade\",\n    \"ExpectativaVida\",\n    \"TaxaDesemprego\",\n    \"MortalidadeInfantil\",\n    \"TaxaImpostoTotal\",\n    \"SalarioMinimo\",\n    \"Densidade\"\n)\n\n# importar pacote\nlibrary(GGally)\n \n# correlatograma\nggpairs(df, columns = colunas_para_correlacionar, ggplot2::aes(fill=\"#3d85bc\", alpha=0.6)) \n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n### Variáveis Ambientais\n\nParâmetros relacionados com as atividades agrícolas e florestais do ambiente.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolunas_para_correlacionar_amb <- c(\n    \"TerraAgriculturaPercentual\",\n    \"AreaTerrestreKm2\",\n    \"EmissoesCO2\",\n    \"AreaFlorestadaPercentual\",\n    \"PopulacaoUrbana\"\n)\n\n# importar pacote\nlibrary(GGally)\n \n# correlatograma\nggpairs(df, columns = colunas_para_correlacionar_amb, ggplot2::aes(fill=\"#3d85bc\", alpha=0.6)) \n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-15-1.png){width=960}\n:::\n:::\n\n\n# Testes Estatísticos\n\nTestes estatísticos funcionam baseados na observação de várias amostras pertencentes à um grupo maior. As diferenças nas médias nos diferentes grupos que mostram a significância estatística de um teste. No caso do dataset utilizado, somente temos as amostras, sem nenhum grupo maior para fazer um teste. \n\nA fim de contornar esse problema, é necessário formar grupos com as amostras. Para isso é necessário importar os dados de países e continentes - a comparação de grandes grupos (continentes) vai permitir a aplicabilidade dos testes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# importar dataset\ncontinents <- read.csv(\"https://gist.githubusercontent.com/stevewithington/20a69c0b6d2ff846ea5d35e5fc47f26c/raw/13716ceb2f22b5643ce5e7039643c86a0e0c6da6/country-and-continent-codes-list-csv.csv\")\n\ncolnames(continents)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Continent_Name\"            \"Continent_Code\"           \n[3] \"Country_Name\"              \"Two_Letter_Country_Code\"  \n[5] \"Three_Letter_Country_Code\" \"Country_Number\"           \n```\n\n\n:::\n:::\n\n\nVamos usar a variável `Two_Letter_Country_Code` para realizar um **JOIN** entre as duas tabelas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# importar pacote\nlibrary(dplyr)\n\n# vamos unir os itens do continents (direita) para os itens do df (esquerda) - por isso um LEFT JOIN\ndf2 <- left_join(df,continents, by=c(\"Abreviacao\"=\"Two_Letter_Country_Code\"))\n\ncolnames(df2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Pais\"                             \"Densidade\"                       \n [3] \"Abreviacao\"                       \"TerraAgriculturaPercentual\"      \n [5] \"AreaTerrestreKm2\"                 \"TamanhoForcasArmadas\"            \n [7] \"TaxaNatalidade\"                   \"CodigoDiscagem\"                  \n [9] \"CapitalCidadePrincipal\"           \"EmissoesCO2\"                     \n[11] \"IPC\"                              \"MudancaIPCPercentual\"            \n[13] \"CodigoMoeda\"                      \"TaxaFertilidade\"                 \n[15] \"AreaFlorestadaPercentual\"         \"PrecoGasolina\"                   \n[17] \"PIB\"                              \"MatriculaPrimariaBrutaPercentual\"\n[19] \"MatriculaSuperiorBrutaPercentual\" \"MortalidadeInfantil\"             \n[21] \"MaiorCidade\"                      \"ExpectativaVida\"                 \n[23] \"TaxaMortalidadeMaterna\"           \"SalarioMinimo\"                   \n[25] \"LinguaOficial\"                    \"GastoSaudeProprioBolso\"          \n[27] \"MedicosPorMil\"                    \"Populacao\"                       \n[29] \"PopulacaoForcaTrabalhoPercentual\" \"ReceitaFiscalPercentual\"         \n[31] \"TaxaImpostoTotal\"                 \"TaxaDesemprego\"                  \n[33] \"PopulacaoUrbana\"                  \"Latitude\"                        \n[35] \"Longitude\"                        \"Continent_Name\"                  \n[37] \"Continent_Code\"                   \"Country_Name\"                    \n[39] \"Three_Letter_Country_Code\"        \"Country_Number\"                  \n```\n\n\n:::\n:::\n\n\nAgora temos ambos os conjuntos no mesmo dataset `df2`.\n\n# Plot com ggplot\n\nA partir desses dados vamos fazer uma análise comparativa entre os continentes.\n\n### Transposição do Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Usando o pacote \"dplyr\" para filtrar os NAs da coluna Continent_Name\ndf_limpo <- df2 %>%\n    filter(!is.na(Continent_Name)) %>% # o \"!\" significa uma negativa   \n    filter(Densidade <= 5000) # Para remover micro estados com pop. grandes\n\n\n#===============================================================================\n# Extender o dataset para que todas as variáveis possam ser acessadas\n\n# Colunas não numéricas\ncolunas_id <- c(\n    \"Pais\",\n    \"Abreviacao\",\n    \"CodigoDiscagem\",\n    \"CapitalCidadePrincipal\",\n    \"MaiorCidade\",\n    \"LinguaOficial\",\n    \"CodigoMoeda\",               \n    \"Continent_Name\",\n    \"Continent_Code\",\n    \"Country_Name\",\n    \"Three_Letter_Country_Code\",\n    \"Country_Number\",\n    \"Latitude\",                 \n    \"Longitude\"                  \n)\n\ncolunas_indicadores_numericos <- df_limpo %>%\n    # Seleciona todas as colunas que NÃO estão na lista de IDs\n    select(-all_of(colunas_id)) %>%\n    # E então seleciona daquelas, apenas as que são NUMÉRICAS (double/integer)\n    select(where(is.numeric)) %>%\n    colnames()\n\ndf_limpo$IPC <- as.numeric(df_limpo$IPC)\n\n# função pivot_longer() -> extender o dataset na vertical \ndf_longo_indicadores <- df_limpo %>%\n    pivot_longer(\n        cols = all_of(colunas_indicadores_numericos),\n        names_to = \"Indicador\",\n        values_to = \"Valor\",        \n        values_drop_na = FALSE\n    )\n```\n:::\n\n\nAgora tempos o dataframe `df_longo_indicadores`, que é uma transposição do dataset orignial (manteve algumas colunas, mas outras foram transpostas em linhas). Segue a nova estrutura dele:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngt(head(df_longo_indicadores))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zgivicrepk\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zgivicrepk table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zgivicrepk thead, #zgivicrepk tbody, #zgivicrepk tfoot, #zgivicrepk tr, #zgivicrepk td, #zgivicrepk th {\n  border-style: none;\n}\n\n#zgivicrepk p {\n  margin: 0;\n  padding: 0;\n}\n\n#zgivicrepk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zgivicrepk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zgivicrepk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zgivicrepk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zgivicrepk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zgivicrepk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zgivicrepk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zgivicrepk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zgivicrepk .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zgivicrepk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zgivicrepk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zgivicrepk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zgivicrepk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zgivicrepk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zgivicrepk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgivicrepk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zgivicrepk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zgivicrepk .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zgivicrepk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgivicrepk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zgivicrepk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgivicrepk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zgivicrepk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgivicrepk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zgivicrepk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zgivicrepk .gt_left {\n  text-align: left;\n}\n\n#zgivicrepk .gt_center {\n  text-align: center;\n}\n\n#zgivicrepk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zgivicrepk .gt_font_normal {\n  font-weight: normal;\n}\n\n#zgivicrepk .gt_font_bold {\n  font-weight: bold;\n}\n\n#zgivicrepk .gt_font_italic {\n  font-style: italic;\n}\n\n#zgivicrepk .gt_super {\n  font-size: 65%;\n}\n\n#zgivicrepk .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zgivicrepk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zgivicrepk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zgivicrepk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zgivicrepk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zgivicrepk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zgivicrepk .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zgivicrepk .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zgivicrepk div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Pais\">Pais</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Abreviacao\">Abreviacao</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CodigoDiscagem\">CodigoDiscagem</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CapitalCidadePrincipal\">CapitalCidadePrincipal</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"IPC\">IPC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"CodigoMoeda\">CodigoMoeda</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"MaiorCidade\">MaiorCidade</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LinguaOficial\">LinguaOficial</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Latitude\">Latitude</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Longitude\">Longitude</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Continent_Name\">Continent_Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Continent_Code\">Continent_Code</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country_Name\">Country_Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Three_Letter_Country_Code\">Three_Letter_Country_Code</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country_Number\">Country_Number</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Indicador\">Indicador</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Valor\">Valor</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">Densidade</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">60.00</td></tr>\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">TerraAgriculturaPercentual</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">58.10</td></tr>\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">AreaTerrestreKm2</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">652230.00</td></tr>\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">TamanhoForcasArmadas</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">323000.00</td></tr>\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">TaxaNatalidade</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">32.49</td></tr>\n    <tr><td headers=\"Pais\" class=\"gt_row gt_left\">Afghanistan</td>\n<td headers=\"Abreviacao\" class=\"gt_row gt_left\">AF</td>\n<td headers=\"CodigoDiscagem\" class=\"gt_row gt_right\">93</td>\n<td headers=\"CapitalCidadePrincipal\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"IPC\" class=\"gt_row gt_right\">149.9</td>\n<td headers=\"CodigoMoeda\" class=\"gt_row gt_left\">AFN</td>\n<td headers=\"MaiorCidade\" class=\"gt_row gt_left\">Kabul</td>\n<td headers=\"LinguaOficial\" class=\"gt_row gt_left\">Pashto</td>\n<td headers=\"Latitude\" class=\"gt_row gt_right\">33.93911</td>\n<td headers=\"Longitude\" class=\"gt_row gt_right\">67.70995</td>\n<td headers=\"Continent_Name\" class=\"gt_row gt_left\">Asia</td>\n<td headers=\"Continent_Code\" class=\"gt_row gt_left\">AS</td>\n<td headers=\"Country_Name\" class=\"gt_row gt_left\">Afghanistan, Islamic Republic of</td>\n<td headers=\"Three_Letter_Country_Code\" class=\"gt_row gt_left\">AFG</td>\n<td headers=\"Country_Number\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Indicador\" class=\"gt_row gt_left\">EmissoesCO2</td>\n<td headers=\"Valor\" class=\"gt_row gt_right\">8672.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nAgora é possível selecionar um subset de características e analisar de forma junta em múltiplos boxplots, que vão apresentar as tendências dos continentes.\n\n## Criação dos Plots\n\n## Variáveis Sócio-Econômicas\n\nColunas que envolvem as informações sobre saúde pública, economia e geografia da populção.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsoc_eco <- c(\n    \"TaxaNatalidade\",\n    \"TaxaFertilidade\",\n    \"ExpectativaVida\",\n    \"TaxaDesemprego\",\n    \"MortalidadeInfantil\",\n    \"TaxaImpostoTotal\",\n    \"SalarioMinimo\",\n    \"Densidade\"\n)\n\ndf_longo_indicadores %>%\n    filter(Indicador %in% soc_eco) %>%\n    ggplot(aes(x = Continent_Name, y = Valor, color = Indicador, fill=Indicador)) +\n    geom_boxplot(alpha=0.6) +\n    geom_jitter( alpha=0.6) +\n    facet_wrap(~ Indicador, scales = \"free\", ncol = 2) +\n    theme_minimal() +\n    theme(\n        axis.text.x = element_text(angle=45,hjust=1,vjust=1),\n        legend.position = \"top\"\n    )\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## Variáveis Ambientais\n\nParâmetros relacionados com as atividades agrícolas e florestais do ambiente.\n\n\n::: {.cell}\n\n```{.r .cell-code}\namb <- c(\n    \"TerraAgriculturaPercentual\",\n    \"AreaTerrestreKm2\",\n    \"EmissoesCO2\",\n    \"AreaFlorestadaPercentual\",\n    \"PopulacaoUrbana\"\n)\n\ndf_longo_indicadores %>%\n    filter(Indicador %in% amb) %>%\n    ggplot(aes(x = Continent_Name, y = Valor, color = Indicador, fill=Indicador)) +\n    geom_boxplot(alpha=0.6) +\n    geom_jitter( alpha=0.6) +\n    facet_wrap(~ Indicador, scales = \"free\", ncol = 2) +\n    theme_minimal() +\n    theme(\n        axis.text.x = element_text(angle=45,hjust=1,vjust=1),\n        legend.position = \"top\"\n    )\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\n# Testes estatísticos - Parte II\n\nAnteriormente foi realizado o teste de Shapiro-Wilk, que informa se a distribuição de uma variável (ou dos resíduos de um modelo) desvia significativamente da distribuição normal. Ou seja, se na distribuição de um dos índices por país (População urbana, por exemplo) está seguindo uma distribuição normal em todos os países listados.\n\nO teste de Shapiro-Wilk é também classificado como um **teste de suposição (pré-teste/diagnóstico)**. Ele vai indicar a normalidade dos dados para realização de um **teste primário (teste de hipótese)**, como uma Análise de Variâncias (ANOVA).\n\nComo visto anteriormente, a princípio a ANOVA só pode ser realizada com dados paramétricos (dados com **distribuição normal**).\n\n## Análise de Variância (ANOVA)\n\nA partir dos resultados, seleciona-se as características que possuem uma distribuição seguindo a curva normal (`PrecoGasolina` e `PopulacaoForcaTrabalhoPercentual`).\n\n### Preço da Gasolina\n\n**Modelo básico de ANOVA**\n\nA função `aov()` do pacote básico do R é a responsável por fazer a análise de variância dos dados. Um modelo de ANOVA deve ser feito entre uma variável categórica, como `Continent_Name` (representando um grupo maior dos dados individuais) e uma variável numérica - nesse caso o preço da gasoline (`PrecoGasolina`).\n\n*Criar subset somente com a coluna `PrecoGasolina`*\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngas <- df_longo_indicadores[df_longo_indicadores$Indicador == \"PrecoGasolina\", ]\n```\n:::\n\n\n*Modelo ANOVA*\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Criar variável modelo para armazenar os dados da função aov()\nmodelo <- aov(Valor ~ Continent_Name, data = gas)\n\n# Mostrar informações do modelo\nsummary(modelo)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                Df Sum Sq Mean Sq F value  Pr(>F)    \nContinent_Name   5  5.034  1.0069   9.361 6.7e-08 ***\nResiduals      171 18.394  0.1076                    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n16 observations deleted due to missingness\n```\n\n\n:::\n:::\n\n\nA linha `aov(Valor ~ Continent_Name, data = gas)` pode ser traduzida como: Realizar uma análise de variância com os valores numéricos da coluna `Valor` em fator das categorias presentes em `Continent_Name`, sendo todas essas colunas pertencentes ao dataset `gas`.\n\nO resultado da coluna `Pr(>F)` representa o **P-Valor** da ANOVA, onde sua interpretação é que:\n\n1. Quando `Pr(>F)` > 0.05: Não há diferença entre as médias das categorias no valor escolhido\n2. Quando `Pr(>F)` < 0.05: Há diferença significativa entre as médias dos grupos analisados\n\nNo caso o P-Valor da variável `modelo` é de **6.7e-08**, que representa um valor muito abaixo que 0.05, o que pode evidenciar uma diferença clara nas médias entre os grupos.\n\nUma das desvantagens da ANOVA é a falta de especificidade na análise, não evidenciando quais grupos diferem e qual o grau de diferença.\n\n## Testes Post-Hoc (pós-teste)\n\nO Teste de Tukey (Tukey's Honestly Significant Difference - HSD) é uma ferramenta essencial que entra em ação após a realização de uma ANOVA que resultou ser estatisticamente significativa `(p<0.05)`.\n\nAs colunas mais importantes são:\n\n1. `diff` (Diferença): A diferença média entre os dois grupos comparados.\n2. `lwr` e `upr` (Limites do Intervalo de Confiança): Os limites inferior e superior do intervalo de confiança para a diferença.\n3. `p adj` (p-valor ajustado): Este é o valor que você deve usar para decidir se a diferença é significativa.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nteste_tukey <- TukeyHSD(modelo)\n\n# Mostrar os resultados\nprint(teste_tukey)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Tukey multiple comparisons of means\n    95% family-wise confidence level\n\nFit: aov(formula = Valor ~ Continent_Name, data = gas)\n\n$Continent_Name\n                                   diff          lwr          upr     p adj\nAsia-Africa                 -0.17674838 -0.372810112  0.019313350 0.1032280\nEurope-Africa                0.27393720  0.075732143  0.472142253 0.0013866\nNorth America-Africa         0.02682609 -0.226370156  0.280022330 0.9996396\nOceania-Africa               0.20996894 -0.173552102  0.593489991 0.6141519\nSouth America-Africa        -0.05134058 -0.357765203  0.255084043 0.9967065\nEurope-Asia                  0.45068558  0.253525978  0.647845180 0.0000000\nNorth America-Asia           0.20357447 -0.048804219  0.455953155 0.1898326\nOceania-Asia                 0.38671733  0.003735527  0.769699123 0.0463108\nSouth America-Asia           0.12540780 -0.180341629  0.431157232 0.8448253\nNorth America-Europe        -0.24711111 -0.501158436  0.006936214 0.0616820\nOceania-Europe              -0.06396825 -0.448051707  0.320115199 0.9967986\nSouth America-Europe        -0.32527778 -0.632406018 -0.018149538 0.0310231\nOceania-North America        0.18314286 -0.231999519  0.598285233 0.8000941\nSouth America-North America -0.07816667 -0.423349009  0.267015675 0.9866589\nSouth America-Oceania       -0.26130952 -0.710899231  0.188280184 0.5500147\n```\n\n\n:::\n:::\n\n\n\n\n## Plot de ANOVA com `ggstatsplot`\n\nO teste `TukeyHSD()` apresenta a diferença média entre todas as combinações de grupos na análise. Para se ter um plot gráfico com as informações tanto da ANOVA, quanto dos grrupos que tem uma diferença significativa em suas médias, usa-se o pacote `ggstatsplot()`. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ANOVA com pacote ggstatsplot()\n# install.packages(\"ggstatsplot\")\n\nlibrary(ggstatsplot)\n\nggstatsplot::ggbetweenstats(gas, Continent_Name, Valor,  \ntitle = \"Distribuição do Preço da Gasolina por Continente (USD)\")\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nÉ possível observar a diferença nas médias de cada continente, mas o ponto principal é o *P-valor* entre os grupos (os continentes). No caso da imagem, dois pares de continentes apresentaram um *P-valor* menor que `0.05`, eles são as comparações dos testes entre cada grupo. Por isso os valores diferentes do que a ANOVA realizada em toda a coluna - como feita na variável `modelo` apresentada anteriormente.\n\n*Criar subset  e plot com a coluna `PopulacaoForcaTrabalhoPercentual`*\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filtrar dataset\npopForc <- df_longo_indicadores[df_longo_indicadores$Indicador == \"PopulacaoForcaTrabalhoPercentual\", ]\n\n# Criar plot com ggstatsplot()\nggstatsplot::ggbetweenstats(popForc, Continent_Name, Valor,  \ntitle = \"Distribuição da Força de Trabalho na População (%)\")\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\nNo caso da variável `PopulacaoForcaTrabalhoPercentual`, não houve diferença significativa nas médias dos continentes. \n\nAgora que as variáveis com distribuição normal nos dados foram analisadas com teste ANOVA, deve-se realizar os testes estatísticos **não-paramétricos**. Onde os dados selecionados não seguem a curva de Laplace-Gauss.\n\n\n# Testes estatísticos não-paramétricos\n\n## Teste de Kruskal-Wallis no R\n\nO Teste de Kruskal-Wallis verifica se as distribuições (ou, mais precisamente, as medianas ou as classificações médias) dos grupos são as mesmas.\n\n**Hipótese de Teste:**\n\n1. H0​ - (Hipótese Nula): As medianas (ou classificações médias) de todos os grupos são iguais.\n2. H1​ - (Hipótese Alternativa): Pelo menos uma mediana de grupo é diferente das outras.\n\n### Código no R\n\nPara realizar essa análise, a função `kruskal.test()` no R, com a mesma sintaxe de fórmula da ANOVA (`variável_dependente` ~ `variável_agrupadora`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Criar novo subset\nexp_vida <- df_longo_indicadores[df_longo_indicadores$Indicador == \"ExpectativaVida\", ]\n\n# 2. Executar o Teste de Kruskal-Wallis\nteste_kruskal <- kruskal.test(Valor ~ Continent_Name, data = exp_vida)\n\n# 3. Imprimir o resultado\nprint(teste_kruskal)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tKruskal-Wallis rank sum test\n\ndata:  Valor by Continent_Name\nKruskal-Wallis chi-squared = 102.94, df = 5, p-value < 2.2e-16\n```\n\n\n:::\n:::\n\n\n### Interpretação dos resultados\n\nSe o p-valor (`p-value`) resultante for **menor que 0.05, se rejeita a hipótese H0​**. Isso significa que há uma diferença estatisticamente significativa entre as distribuições do Preço da Gasolina em pelo menos um continente.\n\nSe o p-valor for **maior ou igual a 0.05, a hipótese H0 não é rejeitada​**. Não há evidência de diferença significativa nas medianas\n\n## Plot de dados não-paramétricos com ggstatsplot\n\nÉ possível realizar a análise de dados não-paramétricos diretamente pela função `ggbetweenstats()` do pacote **ggstatsplot**. Para isso utiliza-se o argumento `type` com a opção \"nonparametric\" (`type=nonparametric`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Criar plot com ggstatsplot()\nggstatsplot::ggbetweenstats(exp_vida, Continent_Name, Valor,  \ntitle = \"Expectativa de Vida da População em Anos\", \ntype = \"nonparametric\")\n```\n\n::: {.cell-output-display}\n![](data_report_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\n# Conclusão\n\nOs itens executados nesse relatório enfocam na análise estatística dos dados, passando desde sua obtenção, pré-processamento, limpeza e correlação. Essas etapas anteriores que puderam dar suporte para as análises eestatísticas realizadas.\n\nAs análises descritivas também são importantes, mas não foram abordadas nesse relatório, já que foram previamente revisadas.\n\nEm uma situação prática, teríamos uma hipótese geral ou uma pergunta guia para nortear a análise dos dados. Mas os testes executados aqui podem ser de serventia na análise de dados individuais dos discentes.",
    "supporting": [
      "data_report_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}